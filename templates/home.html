<!DOCTYPE html>
<html>
  <head>
    <title>YouTube Data Analysis</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static',filename='styles/style.css') }}"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static',filename='assets/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static',filename='assets/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static',filename='assets/favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url_for('static',filename='assets/site.webmanifest') }}">
    <link rel="mask-icon" href="{{ url_for('static',filename='assets/safari-pinned-tab.svg') }}" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <script src="{{url_for('static', filename='scripts/index.js')}}"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script type=text/javascript>
        handleClick()
    </script>
  </head>
  <body class="container-fluid">
    <nav class="navbar navbar-dark bg-dark">
      <a class="navbar-brand">
      <img src="{{ url_for('static',filename='assets/youtube.svg') }}" class="img-fluid" alt="" loading="lazy">
      YouTube Data Analysis
      </a>
      <span class="navbar-text"
        >
        {% if has_filters %}
        <strong>Filters:</strong> 
          {% for key, value in filter.items() %}
            {% if value != "" %}
            {{key}} [<strong>{{value}}</strong>]
            {% endif %}
          {% endfor %}
        {% else %}
        <a href=# id="test">Gain insight into your YouTube data</a>
        {% endif %}
        </span
      >
    </nav>
    <div class="row">
      <div class="col contentDivs">
        {% if data.channels %}
        <h2>Most popular channels</h2>
        <ul class="list-group">
          {% for key, value in data.channels.items() %}
          <li class="list-group-item">
            <span class="leftAlign">{{key}}</span
            ><span class="rightAlign"><strong>{{value}}</strong></span>
          </li>
          {% endfor %}
        </ul>
        {% endif %}
      </div>
      <div class="col contentDivs">
        {% if data.raw_data %}
        <h2>Videos watched</h2>
        <ul class="list-group">
          {% for item in data.raw_data %} {% if item.subtitles %}
          <li class="list-group-item">
            <span class="leftAlign">{{item.title}}</span>
            <span class="rightAlign"
              ><strong>{{item.subtitles[0].name}}</strong></span
            >
          </li>
          {% endif %} {% endfor %}
        </ul>
        {% endif %}
      </div>
    </div>
  </body>
</html>
